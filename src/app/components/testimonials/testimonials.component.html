


<section class="ts-wrap" aria-label="Testimonials">
  <div class="ts-container">
    <div class="ts-surface">
      <div class="ts-inner">

        <!-- Eyebrow -->
        <div class="ts-head">
          <div class="ts-eyebrow" aria-label="Testimonials label">
            <span>TESTIMONIALS</span>
          </div>
        </div>

        <!-- Slider -->
        <div class="ts-shell">
          <div class="ts-viewport" #viewport>
            <div
              class="ts-track"
              [style.transform]="trackTransform"
              [class.is-animating]="isAnimating"
              (transitionend)="onTransitionEnd()"
            >
              <article
                class="ts-slide"
                *ngFor="let t of loopedSlides; let i = index; trackBy: trackByIndex"
                [attr.aria-hidden]="i !== currentLoopIndex"
              >
                <div class="ts-slideInner">
                  <p class="ts-quote" [innerHTML]="t.quoteHtml"></p>

                  <div class="ts-meta">
                    <div class="ts-authorLine">
                      {{ t.authorLine }}
                    </div>

                    <img
                      class="ts-avatar"
                      [src]="t.avatar"
                      [alt]="t.avatarAlt"
                      loading="lazy"
                      decoding="async"
                    />
                  </div>
                </div>
              </article>
            </div>
          </div>

          <!-- Controls -->
          <div class="ts-controls" aria-label="Testimonial navigation">
            <button
              type="button"
              class="ts-btn"
              aria-label="Previous testimonial"
              (click)="prev()"
            >
              <svg viewBox="0 0 8 14" aria-hidden="true">
                <path d="M6.82.76S.76 5.22.76 6.82c0 1.6 6.06 6.06 6.06 6.06"
                      fill="none" stroke="currentColor" stroke-width="1.6"
                      stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M6.82.76S.76 5.22.76 6.82c0 1.6 6.06 6.06 6.06 6.06"
                      fill="none" stroke="currentColor" stroke-opacity=".1" stroke-width="1.6"
                      stroke-linecap="round" stroke-linejoin="round"></path>
              </svg>
            </button>

            <button
              type="button"
              class="ts-btn"
              aria-label="Next testimonial"
              (click)="next()"
            >
              <svg viewBox="0 0 8 14" aria-hidden="true" class="ts-rot">
                <path d="M6.82.76S.76 5.22.76 6.82c0 1.6 6.06 6.06 6.06 6.06"
                      fill="none" stroke="currentColor" stroke-width="1.6"
                      stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M6.82.76S.76 5.22.76 6.82c0 1.6 6.06 6.06 6.06 6.06"
                      fill="none" stroke="currentColor" stroke-opacity=".1" stroke-width="1.6"
                      stroke-linecap="round" stroke-linejoin="round"></path>
              </svg>
            </button>
          </div>

          <!-- Counter -->
          <div class="ts-count" aria-label="Slide counter">
            <span>{{ activeIndex + 1 }}</span> / <span>{{ testimonials.length }}</span>
          </div>
        </div>

      </div>
    </div>
  </div>
</section>
